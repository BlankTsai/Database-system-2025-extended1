<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ç®¡ç†å¾Œå° - äºŒæ‰‹äº¤æ˜“ç¶²ç«™</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>ç¶²ç«™ç®¡ç†å¾Œå°</h1>
        <a href="{{ url_for('index') }}" class="nav-link">â† è¿”å›é¦–é </a>

        <div class="stats-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
            <div class="card" style="text-align: center;">
                <h3>ç¸½å•†å“æ•¸</h3>
                <p style="font-size: 2em; font-weight: bold; color: #007bff; margin: 10px 0;">{{ stats.total_products }}</p>
            </div>
            <div class="card" style="text-align: center;">
                <h3>åº«å­˜ç¸½åƒ¹å€¼</h3>
                <p style="font-size: 2em; font-weight: bold; color: #28a745; margin: 10px 0;">$ {{ stats.total_value | round(2) }}</p>
            </div>
            <div class="card" style="text-align: center;">
                <h3>å¹³å‡å–®åƒ¹</h3>
                <p style="font-size: 2em; font-weight: bold; color: #17a2b8; margin: 10px 0;">$ {{ stats.avg_price | round(2) }}</p>
            </div>
            <div class="card" style="text-align: center;">
                <h3>æœ€é«˜å–®åƒ¹</h3>
                <p style="font-size: 2em; font-weight: bold; color: #dc3545; margin: 10px 0;">$ {{ stats.max_price }}</p>
            </div>
        </div>

        <h2>æ‰¹æ¬¡ç®¡ç†æ“ä½œ</h2>
        <div class="card">
            <div style="display: flex; gap: 20px; justify-content: space-around;">
                
                <form action="{{ url_for('bulk_update') }}" method="POST" style="text-align: center;">
                    <h3>ğŸ”¥ å…¨é¢ä¿ƒéŠ·æ´»å‹•</h3>
                    <p>å°‡æ‰€æœ‰åƒ¹æ ¼ > $1000 çš„å•†å“æ‰“ 9 æŠ˜</p>
                    <button type="submit" style="background-color: #fd7e14;" onclick="return confirm('ç¢ºå®šè¦åŸ·è¡Œå—ï¼Ÿé€™æœƒå½±éŸ¿å¤šç­†å•†å“ï¼')">
                        åŸ·è¡Œé™åƒ¹ (updateMany)
                    </button>
                </form>

                <form action="{{ url_for('bulk_delete') }}" method="POST" style="text-align: center;">
                    <h3>ğŸ§¹ æ¸…ç†ä½åƒ¹åº«å­˜</h3>
                    <p>åˆªé™¤æ‰€æœ‰åƒ¹æ ¼ < $100 çš„å•†å“</p>
                    <button type="submit" style="background-color: #6c757d;" onclick="return confirm('è­¦å‘Šï¼šç¢ºå®šè¦åˆªé™¤é€™äº›å•†å“å—ï¼Ÿæ­¤å‹•ä½œç„¡æ³•å¾©åŸï¼')">
                        åŸ·è¡Œæ¸…ç† (deleteMany)
                    </button>
                </form>
            </div>
        </div>

    </div>
</body>
</html>